# ═══════════════════════════════════════════════════════════════════════════
# NexusCRM v2.5.0-MetaPaaS Environment Configuration
# ═══════════════════════════════════════════════════════════════════════════
#
# IMPORTANT: Copy this file to .env and fill in your values
# NEVER commit .env to version control!
#
# See: core/constants/EnvironmentConfig.ts for all configuration options
# See: docs/SECURITY.md for security best practices
#
# ═══════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────
# Environment
# ───────────────────────────────────────────────────────────────────────────
NODE_ENV=development  # Options: development, production, test

# ───────────────────────────────────────────────────────────────────────────
# Database Configuration (REQUIRED)
# ───────────────────────────────────────────────────────────────────────────
# ⚠️  CRITICAL: Never commit real credentials to git!

DATABASE_URL=mysql://username:password@host:port/database

# Optional database tuning
# DATABASE_POOL_SIZE=10
# DATABASE_QUERY_TIMEOUT_MS=30000
# DATABASE_CONNECTION_TIMEOUT_MS=10000
# DATABASE_IDLE_TIMEOUT_MS=60000

# ───────────────────────────────────────────────────────────────────────────
# JWT Authentication (REQUIRED in production)
# ───────────────────────────────────────────────────────────────────────────
# ⚠️  CRITICAL: Must be at least 32 characters in production
# Generate with: openssl rand -base64 32

JWT_SECRET=your-secret-key-min-32-characters-long-CHANGE-THIS-IN-PRODUCTION
JWT_EXPIRES_IN=24h

# Password hashing configuration
BCRYPT_ROUNDS=10

# Session timeout (0 = no timeout)
# SESSION_TIMEOUT_MS=0

# ───────────────────────────────────────────────────────────────────────────
# Server Configuration
# ───────────────────────────────────────────────────────────────────────────
PORT=3001

# CORS and security
# ENABLE_CORS=true
# ENABLE_HELMET=true
# ENABLE_RATE_LIMIT=true

# Request limits
# BODY_SIZE_LIMIT=10mb

# ───────────────────────────────────────────────────────────────────────────
# Frontend Configuration
# ───────────────────────────────────────────────────────────────────────────
REACT_APP_BACKEND_URL=http://localhost:3001
REACT_APP_FRONTEND_URL=http://localhost:3000

# Frontend API configuration
# REACT_APP_REQUEST_TIMEOUT_MS=30000
# REACT_APP_ENABLE_RETRY=true
# REACT_APP_MAX_RETRIES=2

# ⚠️  WARNING: Frontend should NOT access database directly!
# This is a temporary configuration that will be removed in future versions.
# See docs/SECURITY.md for details.
# REACT_APP_DATABASE_URL=

# ───────────────────────────────────────────────────────────────────────────
# External Services (Optional)
# ───────────────────────────────────────────────────────────────────────────
# Google Gemini API Key (for AI features)
# Get your key at: https://makersuite.google.com/app/apikey
# REACT_APP_API_KEY=your-gemini-api-key-here
# API_KEY=your-gemini-api-key-here

# AI Service configuration
# AI_TIMEOUT_MS=30000

# ───────────────────────────────────────────────────────────────────────────
# Logging Configuration
# ───────────────────────────────────────────────────────────────────────────
# Log level: error, warn, info, debug, trace
# LOG_LEVEL=info

# Enable SQL query logging (helpful for debugging, verbose in production)
# LOG_SQL=false

# Enable performance profiling
# ENABLE_PROFILING=false

# Verbose mode (development only)
# VERBOSE=false

# ───────────────────────────────────────────────────────────────────────────
# Feature Flags (Optional - override defaults)
# ───────────────────────────────────────────────────────────────────────────
# Set to 'true' or 'false' to override platform defaults
# Leave commented to use defaults from ApplicationDefaults.ts

# FEATURE_AI_ASSISTANT=true
# FEATURE_FLOWS=true
# FEATURE_FORMULAS=true
# FEATURE_ROLLUPS=true
# FEATURE_VALIDATIONS=true
# FEATURE_TRANSFORMATIONS=true
# FEATURE_KANBAN=true
# FEATURE_IMPORT=true
# FEATURE_SCHEMA_GRAPH=true

# ═══════════════════════════════════════════════════════════════════════════
# Production Deployment Checklist
# ═══════════════════════════════════════════════════════════════════════════
#
# Before deploying to production, ensure:
#
# ✅ DATABASE_URL is set with secure credentials
# ✅ JWT_SECRET is set to a strong random value (32+ chars)
# ✅ JWT_SECRET is different from development
# ✅ NODE_ENV=production
# ✅ Change default admin password immediately after first login
# ✅ REACT_APP_DATABASE_URL is NOT set (frontend should use backend API)
# ✅ Enable HTTPS
# ✅ Review CORS settings (FRONTEND_URL)
# ✅ Set up database backups
# ✅ Configure monitoring and logging
# ✅ Review docs/SECURITY.md
#
# ═══════════════════════════════════════════════════════════════════════════
